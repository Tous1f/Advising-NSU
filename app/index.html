<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>BatSched — Mobile Advising Plans</title>
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="./styles.css">
  
  <!-- PWA and Icons -->
  <link rel="apple-touch-icon" href="./icon-192.png">
  <link rel="icon" type="image/png" sizes="192x192" href="./icon-192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="./icon-512.png">
  <link rel="manifest" href="./manifest.json">
  
  <!-- Meta tags -->
  <meta name="description" content="Generate all advising plans on-device. No database. Mobile-first Batman-themed UI." />
  <meta name="theme-color" content="#0b0f15">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="BatSched">
  
  <!-- Preload critical resources -->
  <link rel="preload" href="./styles.css" as="style">
  <link rel="preload" href="./app.js" as="script">
  <link rel="preload" href="./data.js" as="script">
</head>
<body>
  <main class="app">
    <header class="app-header">
      <div class="logo">
        <!-- larger animated bat icon -->
        <svg viewBox="0 0 64 64" width="56" height="56" aria-hidden="true" class="bat-svg">
          <defs>
            <filter id="glow"><feGaussianBlur stdDeviation="2.2" result="b"/></filter>
          </defs>
          <path fill="#ffd400" filter="url(#glow)" d="M32 8c-6 0-11 5-16 5 0 0-3 6-3 10 0 8 6 14 6 14s2-6 9-6 9 6 9 6 6-6 6-14c0-4-3-10-3-10-5 0-10-5-16-5z" />
        </svg>
      </div>
      <div class="title">BatSched</div>
      <button id="openFilters" class="btn small">Filters</button>
    </header>

    <section class="controls">
      <div class="btn-row">
        <button id="btnPreferred" class="btn">Preferred</button>
        <button id="btnAll" class="btn">All</button>
      </div>
      <div class="btn-row">
        <button id="btn4day" class="btn">4-Day</button>
        <button id="btn5day" class="btn">5-Day</button>
      </div>
      <div class="summary" id="summary">Ready — dataset loaded.</div>
    </section>

    <aside id="filterPanel" class="filters hidden">
      <h3>Filters</h3>
      <div class="filter-row"><label><input type="checkbox" id="usePrefs"> Use my faculty preferences</label></div>
      <div class="filter-row"><label><input type="checkbox" id="noEarly"> No classes before 9:00 AM</label></div>
      <div class="filter-row"><label><input type="checkbox" id="noLate"> No classes after 6:00 PM</label></div>
  <div class="filter-row"><label for="maxResults">Max results:</label> <input id="maxResults" type="number" min="1" max="1000" value="200"></div>

      <hr />
      <h4>Custom Faculty Preferences</h4>
      <div id="facultyToggles" class="faculty-list">
        <!-- dynamically filled checkboxes for faculties -->
      </div>

  <div class="filter-close"><button id="closeFilters" class="btn small">Close</button></div>
    </aside>

    <section id="results" class="results">
      <!-- schedule cards inserted here -->
    </section>

    <footer class="app-footer">
      <small>On-device. No network. Data embedded.</small>
      <a id="downloadJson" class="link">Download JSON</a>
    </footer>
  </main>

  <script>
    if('serviceWorker' in navigator){
      navigator.serviceWorker.register('service-worker.js').catch(()=>console.warn('SW register failed'));
    }
  </script>
  <script src="data.js"></script>
  <script src="app.js"></script>
</body>
</html>
