<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>CourseWizard â€” Smart Schedule Planner</title>
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="./styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  
  <!-- PWA and Icons -->
  <link rel="apple-touch-icon" href="./icon-192.png">
  <link rel="icon" type="image/png" sizes="192x192" href="./icon-192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="./icon-512.png">
  <link rel="manifest" href="./manifest.json">
  
  <!-- Meta tags -->
  <meta name="description" content="Smart course scheduling made magical. Create your perfect class schedule instantly." />
  <meta name="theme-color" content="#0b0f15">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="CourseWizard">
  
  <!-- Preload critical resources -->
  <link rel="preload" href="./styles.css" as="style">
  <link rel="preload" href="./app.js" as="script">
  <link rel="preload" href="./data.js" as="script">
</head>
<body>
  <div class="app-container">
    <!-- Navigation Steps -->
    <nav class="step-navigation" id="stepNavigation" aria-label="Schedule Creation Steps">
      <div class="step-indicator" role="tablist">
        <div class="step active" data-step="courses" role="tab" aria-selected="true" tabindex="0" aria-controls="coursesPanel">
          <i class="fas fa-book" aria-hidden="true"></i>
          <span>Select Courses</span>
          <div class="progress-indicator" aria-hidden="true"></div>
        </div>
        <div class="step" data-step="faculty" role="tab" aria-selected="false" tabindex="-1" aria-controls="facultyPanel">
          <i class="fas fa-user-tie" aria-hidden="true"></i>
          <span>Choose Faculty</span>
          <div class="progress-indicator" aria-hidden="true"></div>
        </div>
        <div class="step" data-step="schedule" role="tab" aria-selected="false" tabindex="-1" aria-controls="schedulePanel">
          <i class="fas fa-calendar-alt" aria-hidden="true"></i>
          <span>Generate Schedule</span>
          <div class="progress-indicator" aria-hidden="true"></div>
        </div>
      </div>
      <div class="step-controls" role="group" aria-label="Navigation Controls">
        <button id="btnBack" class="btn secondary" disabled aria-label="Go back to previous step">
          <i class="fas fa-arrow-left" aria-hidden="true"></i> Back
        </button>
        <button id="btnNext" class="btn primary">
          Next <i class="fas fa-arrow-right"></i>
        </button>
      </div>
    </nav>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <i class="fas fa-hat-wizard"></i>
        </div>
        <h1>CourseWizard</h1>
      </div>

      <!-- Course Selection Panel -->
      <div class="sidebar-section">
        <h3><i class="fas fa-book"></i> Select Courses</h3>
        <div class="search-box">
          <input type="text" id="courseSearch" placeholder="Search courses...">
          <i class="fas fa-search"></i>
        </div>
        <div class="course-list" id="courseList">
          <!-- Dynamically filled with course checkboxes -->
        </div>
      </div>

      <!-- Smart Filters -->
      <div class="sidebar-section">
        <h3><i class="fas fa-filter"></i> Smart Filters</h3>
        
        <!-- Time Preferences -->
        <div class="filter-group">
          <h4>Time Preferences</h4>
          <div class="filter-row">
            <label><input type="checkbox" id="noEarly"> No Early Classes (Before 9 AM)</label>
          </div>
          <div class="filter-row">
            <label><input type="checkbox" id="noLate"> No Late Classes (After 6 PM)</label>
          </div>
          <div class="time-range">
            <label>Preferred Time Range:</label>
            <select id="preferredTimeStart" aria-label="Preferred start time">
              <option value="">Start Time</option>
              <option value="8">8:00 AM</option>
              <option value="9">9:00 AM</option>
              <option value="10">10:00 AM</option>
              <option value="11">11:00 AM</option>
              <option value="12">12:00 PM</option>
            </select>
            <select id="preferredTimeEnd" aria-label="Preferred end time">
              <option value="">End Time</option>
              <option value="16">4:00 PM</option>
              <option value="17">5:00 PM</option>
              <option value="18">6:00 PM</option>
              <option value="19">7:00 PM</option>
            </select>
          </div>
        </div>

        <!-- Day Preferences -->
        <div class="filter-group">
          <h4>Day Preferences</h4>
          <div class="day-toggles">
            <label class="day-toggle"><input type="checkbox" value="S"> S</label>
            <label class="day-toggle"><input type="checkbox" value="M"> M</label>
            <label class="day-toggle"><input type="checkbox" value="T"> T</label>
            <label class="day-toggle"><input type="checkbox" value="W"> W</label>
            <label class="day-toggle"><input type="checkbox" value="R"> R</label>
            <label class="day-toggle"><input type="checkbox" value="A"> A</label>
          </div>
          <div class="quick-select">
            <button id="btn4day" class="btn-small">4-Day Week</button>
            <button id="btn5day" class="btn-small">5-Day Week</button>
          </div>
        </div>

        <!-- Faculty Preferences -->
        <div class="filter-group">
          <h4>Faculty Preferences</h4>
          <div class="search-box">
            <input type="text" id="facultySearch" placeholder="Search faculty...">
            <i class="fas fa-search"></i>
          </div>
          <div id="facultyToggles" class="faculty-list">
            <!-- Dynamically filled -->
          </div>
        </div>

        <!-- Additional Preferences -->
        <div class="filter-group">
          <h4>Additional Options</h4>
          <div class="filter-row">
            <label><input type="checkbox" id="avoidGaps"> Minimize Gaps Between Classes</label>
          </div>
          <div class="filter-row">
            <label><input type="checkbox" id="balancedLoad"> Balance Daily Course Load</label>
          </div>
          <div class="filter-row">
            <label>Max Results: <input type="number" id="maxResults" min="1" max="1000" value="50"></label>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="sidebar-actions">
        <button id="btnGenerateRoutine" class="btn primary">
          <i class="fas fa-wand-sparkles"></i> Generate Schedule
        </button>
        <button id="btnReset" class="btn secondary">
          <i class="fas fa-undo"></i> Reset Filters
        </button>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <header class="main-header">
        <button id="toggleSidebar" class="btn-icon" aria-label="Toggle sidebar">
          <i class="fas fa-bars" aria-hidden="true"></i>
        </button>
        <div class="view-controls">
          <button id="btnListView" class="btn-icon active" title="List View">
            <i class="fas fa-list"></i>
          </button>
          <button id="btnGridView" class="btn-icon" title="Grid View">
            <i class="fas fa-th"></i>
          </button>
        </div>
        <div class="generated-info">
          <span id="summary">Ready to create your schedule</span>
        </div>
        <div class="actions">
          <button id="btnExport" class="btn-icon" title="Export Schedule">
            <i class="fas fa-download"></i>
          </button>
          <button id="btnShare" class="btn-icon" title="Share Schedule">
            <i class="fas fa-share-alt"></i>
          </button>
        </div>
      </header>

      <!-- Step Panels -->
      <div id="coursesPanel" role="tabpanel" aria-labelledby="coursesTab" class="step-panel active">
        <div class="search-box">
          <input type="text" id="courseSearch" placeholder="Search courses..." aria-label="Search courses">
          <i class="fas fa-search" aria-hidden="true"></i>
        </div>
        <div id="courseList" class="course-list" role="list">
          <!-- Dynamically filled -->
        </div>
      </div>

      <div id="facultyPanel" role="tabpanel" aria-labelledby="facultyTab" class="step-panel">
        <div id="facultyPreferences" class="faculty-preferences">
          <!-- Dynamically filled -->
        </div>
      </div>

      <div id="schedulePanel" role="tabpanel" aria-labelledby="scheduleTab" class="step-panel">
        <section id="results" class="results" aria-live="polite">
          <!-- schedule cards inserted here -->
        </section>

        <div id="noResults" class="no-results hidden" role="alert">
          <i class="fas fa-magic" aria-hidden="true"></i>
          <h2>No schedules found</h2>
          <p>Try adjusting your filters or selecting different courses</p>
        </div>
      </div>
    </main>
  </div>

  <!-- Toast Notifications -->
  <div id="toast" class="toast hidden">
    <i class="fas fa-info-circle"></i>
    <span id="toastMessage"></span>
  </div>

  <!-- Theme Toggle -->
  <button id="themeToggle" class="theme-toggle" title="Toggle Theme">
    <i class="fas fa-moon"></i>
  </button>

  <script>
    if('serviceWorker' in navigator){
      navigator.serviceWorker.register('service-worker.js').catch(()=>console.warn('SW register failed'));
    }
  </script>
  <script src="data.js"></script>
  <script src="app.js"></script>
</body>
</html>
